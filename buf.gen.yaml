version: v1
plugins:
  # TypeScript (ES modules)
  - plugin: buf.build/bufbuild/es
    out: frontend/src/api
    opt: target=ts

  # ConnectRPC TypeScript client
  - plugin: buf.build/connectrpc/es
    out: frontend/src/api
    opt: target=ts

  # Python gRPC backend
  - plugin: buf.build/grpc/python
    out: backend/taxos_api

  # Python protobuf messages
  - plugin: buf.build/protocolbuffers/python
    out: backend/taxos_api
