version: v1
plugins:
  # Python protobuf messages (.py)
  - plugin: buf.build/protocolbuffers/python
    out: ../backend/api

  # Python gRPC service stubs (.py)
  - plugin: buf.build/grpc/python
    out: ../backend/api

  # Python type stubs (.pyi)
  - plugin: buf.build/protocolbuffers/pyi
    out: ../backend/api

  # TypeScript protobuf messages
  - plugin: buf.build/bufbuild/es:v1.8.0
    out: ../frontend/src/api
    opt: target=ts

  # TypeScript ConnectRPC client
  - plugin: buf.build/connectrpc/es:v1.6.1
    out: ../frontend/src/api
    opt: target=ts
